(function(e,n,t,i){"use strict";var a=a||{};a.funcs={},a.vars={onloaded:!1,$body:e("body"),$window:e(n),$document:e(t),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:e("body").hasClass("rtl")},a.helper={uid:function(e){return(e||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(e){return(e+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function(n,t){var i=new RegExp(a.helper.preg_quote(t+"[\\d+]"),"g");n.find(":radio").each(function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)}),n.each(function(n){e(this).find(":input").each(function(){this.name=this.name.replace(i,t+"["+n+"]"),this.orginal_checked&&(this.checked=!0)})})},debounce:function(e,n,t){var i;return function(){var a=this,r=arguments,o=function(){i=null,t||e.apply(a,r)},l=t&&!i;clearTimeout(i),i=setTimeout(o,n),l&&e.apply(a,r)}}},e.fn.wdpop_core_clone=function(){for(var n=e.fn.clone.apply(this,arguments),t=this.find("select").add(this.filter("select")),i=n.find("select").add(n.filter("select")),a=0;a<t.length;++a)for(var r=0;r<t[a].options.length;++r)!0===t[a].options[r].selected&&(i[a].options[r].selected=!0);return this.find(":radio").each(function(){this.orginal_checked=this.checked}),n},e.fn.wdpop_core_expand_all=function(){return this.each(function(){e(this).on("click",function(n){n.preventDefault(),e(".wdpop_core-wrapper").toggleClass("wdpop_core-show-all"),e(".wdpop_core-section").wdpop_core_reload_script(),e(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")})})},e.fn.wdpop_core_nav_options=function(){return this.each(function(){var t,i=e(this),a=e(n),r=e("#wpwrap"),o=i.find("a");a.on("hashchange wdpop_core.hashchange",function(){var i=n.location.hash.replace("#tab=",""),a=i||o.first().attr("href").replace("#tab=",""),l=e('[data-tab-id="'+a+'"]');if(l.length){l.closest(".wdpop_core-tab-item").addClass("wdpop_core-tab-expanded").siblings().removeClass("wdpop_core-tab-expanded"),l.next().is("ul")&&(l=l.next().find("li").first().find("a"),a=l.data("tab-id")),o.removeClass("wdpop_core-active"),l.addClass("wdpop_core-active"),t&&t.addClass("hidden");var d=e('[data-section-id="'+a+'"]');d.removeClass("hidden"),d.wdpop_core_reload_script(),e(".wdpop_core-section-id").val(d.index()+1),t=d,r.hasClass("wp-responsive-open")&&(e("html, body").animate({scrollTop:d.offset().top-50},200),r.removeClass("wp-responsive-open"))}}).trigger("wdpop_core.hashchange")})},e.fn.wdpop_core_nav_metabox=function(){return this.each(function(){var n,t=e(this),a=t.find("a"),r=t.parent().find(".wdpop_core-section");a.each(function(t){e(this).on("click",function(o){o.preventDefault();var l=e(this);a.removeClass("wdpop_core-active"),l.addClass("wdpop_core-active"),n!==i&&n.addClass("hidden");var d=r.eq(t);d.removeClass("hidden"),d.wdpop_core_reload_script(),n=d})}),a.first().trigger("click")})},e.fn.wdpop_core_page_templates=function(){this.length&&e(t).on("change",".editor-page-attributes__template select, #page_template, .edit-post-post-status + div select",function(){var n=e(this).val()||"default";e(".wdpop_core-page-templates").removeClass("wdpop_core-metabox-show").addClass("wdpop_core-metabox-hide"),e(".wdpop_core-page-"+n.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("wdpop_core-metabox-hide").addClass("wdpop_core-metabox-show")})},e.fn.wdpop_core_post_formats=function(){this.length&&e(t).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',function(){var n=e(this).val()||"default";n="0"===n?"default":n,e(".wdpop_core-post-formats").removeClass("wdpop_core-metabox-show").addClass("wdpop_core-metabox-hide"),e(".wdpop_core-post-format-"+n).removeClass("wdpop_core-metabox-hide").addClass("wdpop_core-metabox-show")})},e.fn.wdpop_core_search=function(){return this.each(function(){var n=e(this),t=n.find("input");t.on("change keyup",function(){var n=e(this).val(),t=e(".wdpop_core-wrapper"),i=t.find(".wdpop_core-section"),a=i.find("> .wdpop_core-field:not(.wdpop_core-depend-on)"),r=a.find("> .wdpop_core-title, .wdpop_core-search-tags");n.length>3?(a.addClass("wdpop_core-metabox-hide"),t.addClass("wdpop_core-search-all"),r.each(function(){var t=e(this);if(t.text().match(new RegExp(".*?"+n+".*?","i"))){var i=t.closest(".wdpop_core-field");i.removeClass("wdpop_core-metabox-hide"),i.parent().wdpop_core_reload_script()}})):(a.removeClass("wdpop_core-metabox-hide"),t.removeClass("wdpop_core-search-all"))})})},e.fn.wdpop_core_sticky=function(){return this.each(function(){var t=e(this),i=e(n),a=t.find(".wdpop_core-header-inner"),r=parseInt(a.css("padding-left"))+parseInt(a.css("padding-right")),o=32,l=0,d=!1,s=function(){var e=t.offset().top,n=Math.max(o,e-l),d=i.innerWidth();n<=o&&d>782?(a.css({width:t.outerWidth()-r}),t.css({height:t.outerHeight()}).addClass("wdpop_core-sticky")):(a.removeAttr("style"),t.removeAttr("style").removeClass("wdpop_core-sticky"))},c=function(){d||requestAnimationFrame(function(){s(),d=!1}),d=!0},g=function(){l=i.scrollTop(),c()};i.on("scroll resize",g),g()})},e.fn.wdpop_core_dependency=function(){return this.each(function(){var n=e(this),t=n.children("[data-controller]");if(t.length){var i=e.wdpop_core_deps.createRuleset(),r=e.wdpop_core_deps.createRuleset(),o=[],l=[];t.each(function(){var n=e(this),t=n.data("controller").split("|"),a=n.data("condition").split("|"),d=n.data("value").toString().split("|"),s=!!n.data("depend-global"),c=s?r:i;e.each(t,function(e,t){var i=d[e]||"",r=a[e]||a[0];c=c.createRule('[data-depend-id="'+t+'"]',r,i),c.include(n),s?l.push(t):o.push(t)})}),o.length&&e.wdpop_core_deps.enable(n,i,o),l.length&&e.wdpop_core_deps.enable(a.vars.$body,r,l)}})},e.fn.wdpop_core_field_accordion=function(){return this.each(function(){var n=e(this).find(".wdpop_core-accordion-title");n.on("click",function(){var n=e(this),t=n.find(".wdpop_core-accordion-icon"),i=n.next();t.hasClass("fa-angle-right")?t.removeClass("fa-angle-right").addClass("fa-angle-down"):t.removeClass("fa-angle-down").addClass("fa-angle-right"),i.data("opened")||(i.wdpop_core_reload_script(),i.data("opened",!0)),i.toggleClass("wdpop_core-accordion-open")})})},e.fn.wdpop_core_field_backup=function(){return this.each(function(){if(n.wp.customize!==i){var t=this,r=e(this),o=(e("body"),r.find(".wdpop_core-import")),l=r.find(".wdpop_core-reset");t.notificationOverlay=function(){wp.customize.notifications&&wp.customize.OverlayNotification&&(wp.customize.state("saved").get()||(wp.customize.state("changesetStatus").set("trash"),wp.customize.each(function(e){e._dirty=!1}),wp.customize.state("saved").set(!0)),wp.customize.notifications.add(new wp.customize.OverlayNotification("wdpop_core_field_backup_notification",{type:"default",message:"&nbsp;",loading:!0})))},l.on("click",function(e){e.preventDefault(),a.vars.is_confirm&&(t.notificationOverlay(),n.wp.ajax.post("wdpop_core-reset",{unique:l.data("unique"),nonce:l.data("nonce")}).done(function(e){n.location.reload(!0)}).fail(function(e){alert(e.error),wp.customize.notifications.remove("wdpop_core_field_backup_notification")}))}),o.on("click",function(e){e.preventDefault(),a.vars.is_confirm&&(t.notificationOverlay(),n.wp.ajax.post("wdpop_core-import",{unique:o.data("unique"),nonce:o.data("nonce"),data:r.find(".wdpop_core-import-data").val()}).done(function(e){n.location.reload(!0)}).fail(function(e){alert(e.error),wp.customize.notifications.remove("wdpop_core_field_backup_notification")}))})}})},e.fn.wdpop_core_field_background=function(){return this.each(function(){e(this).find(".wdpop_core--background-image").wdpop_core_reload_script()})},e.fn.wdpop_core_field_code_editor=function(){return this.each(function(){if("function"==typeof CodeMirror){var n=e(this),t=n.find("textarea"),i=n.find(".CodeMirror"),r=t.data("editor");i.length&&i.remove();var o=setInterval(function(){if(n.is(":visible")){var i=CodeMirror.fromTextArea(t[0],r);if("default"!==r.theme&&-1===a.vars.code_themes.indexOf(r.theme)){var l=e("<link>");e("#wdpop_core-codemirror-css").after(l),l.attr({rel:"stylesheet",id:"wdpop_core-codemirror-"+r.theme+"-css",href:`${wdpop_core_vars.codemirror_url}/theme/${r.theme}.css`,type:"text/css",media:"all"}),a.vars.code_themes.push(r.theme)}CodeMirror.modeURL=`${wdpop_core_vars.codemirror_url}/mode/%N/%N.js`,CodeMirror.autoLoadMode(i,r.mode),i.on("change",function(e,n){t.val(i.getValue()).trigger("change")}),clearInterval(o)}})}})},e.fn.wdpop_core_field_date=function(){return this.each(function(){var n=e(this),t=n.find("input"),i=n.find(".wdpop_core-date-settings").data("settings"),a={showAnim:"",beforeShow:function(n,t){e(t.dpDiv).addClass("wdpop_core-datepicker-wrapper")},onClose:function(n,t){e(t.dpDiv).removeClass("wdpop_core-datepicker-wrapper")}};i=e.extend({},i,a),2===t.length&&(i=e.extend({},i,{onSelect:function(n){e(this),t.first();var a=t.first().attr("id")===e(this).attr("id")?"minDate":"maxDate",r=e.datepicker.parseDate(i.dateFormat,n);t.not(this).datepicker("option",a,r)}})),t.each(function(){var n=e(this);n.hasClass("hasDatepicker")&&n.removeAttr("id").removeClass("hasDatepicker"),n.datepicker(i)})})},e.fn.wdpop_core_field_datetime=function(){return this.each(function(){var n=e(this),t=n.find("input"),i=n.find(".wdpop_core-datetime-settings").data("settings");i=e.extend({},i,{onReady:function(n,t,i){e(i.calendarContainer).addClass("wdpop_core-flatpickr")}}),2===t.length&&(i=e.extend({},i,{onChange:function(n,i,a){"from"===e(a.element).data("type")?t.last().get(0)._flatpickr.set("minDate",n[0]):t.first().get(0)._flatpickr.set("maxDate",n[0])}})),t.each(function(){e(this).flatpickr(i)})})},e.fn.wdpop_core_field_fieldset=function(){return this.each(function(){e(this).find(".wdpop_core-fieldset-content").wdpop_core_reload_script()})},e.fn.wdpop_core_field_gallery=function(){return this.each(function(){var t,i=e(this),a=i.find(".wdpop_core-edit-gallery"),r=i.find(".wdpop_core-clear-gallery"),o=i.find("ul"),l=i.find("input");i.find("img");i.on("click",".wdpop_core-button, .wdpop_core-edit-gallery",function(i){var d=e(this),s=l.val(),c=d.hasClass("wdpop_core-edit-gallery")?"edit":"add",g="add"!==c||s.length?"gallery-edit":"gallery";i.preventDefault(),void 0!==n.wp&&n.wp.media&&n.wp.media.gallery&&("gallery"===g?(t=n.wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0}),t.open()):(t=n.wp.media.gallery.edit('[gallery ids="'+s+'"]'),"add"===c&&t.setState("gallery-library")),t.on("update",function(e){o.empty();var n=e.models.map(function(e){var n=e.toJSON(),t=n.sizes&&n.sizes.thumbnail&&n.sizes.thumbnail.url?n.sizes.thumbnail.url:n.url;return o.append('<li><img src="'+t+'"></li>'),n.id});l.val(n.join(",")).trigger("change"),r.removeClass("hidden"),a.removeClass("hidden")}))}),r.on("click",function(e){e.preventDefault(),o.empty(),l.val("").trigger("change"),r.addClass("hidden"),a.addClass("hidden")})})},e.fn.wdpop_core_field_group=function(){return this.each(function(){var n=e(this),t=n.children(".wdpop_core-fieldset"),i=t.length?t:n,r=i.children(".wdpop_core-cloneable-wrapper"),o=i.children(".wdpop_core-cloneable-hidden"),l=i.children(".wdpop_core-cloneable-max"),d=i.children(".wdpop_core-cloneable-min"),s=r.data("title-by"),c=r.data("title-by-prefix"),g=r.data("field-id"),f=Boolean(Number(r.data("title-number"))),h=parseInt(r.data("max")),p=parseInt(r.data("min"));r.hasClass("ui-accordion")&&r.find(".ui-accordion-header-icon").remove();var w=function(n){n.find(".wdpop_core-cloneable-title-number").each(function(n){e(this).html(e(this).closest(".wdpop_core-cloneable-item").index()+1+".")})};r.accordion({header:"> .wdpop_core-cloneable-item > .wdpop_core-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"wdpop_core-cloneable-header-icon fas fa-angle-right",activeHeader:"wdpop_core-cloneable-header-icon fas fa-angle-down"},activate:function(n,t){var i=t.newPanel,a=t.newHeader;if(i.length&&!i.data("opened")){var r=a.find(".wdpop_core-cloneable-value"),o=[];e.each(s,function(e,n){o.push(i.find('[data-depend-id="'+n+'"]'))}),e.each(o,function(n,t){t.on("change keyup wdpop_core.keyup",function(){var n=[];e.each(o,function(e,t){var i=t.val();i&&n.push(i)}),n.length&&r.text(n.join(c))}).trigger("wdpop_core.keyup")}),i.wdpop_core_reload_script(),i.data("opened",!0),i.data("retry",!1)}else i.data("retry")&&(i.wdpop_core_reload_script_retry(),i.data("retry",!1))}}),r.sortable({axis:"y",handle:".wdpop_core-cloneable-title,.wdpop_core-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(e,n){r.accordion({active:!1}),r.sortable("refreshPositions"),n.item.children(".wdpop_core-cloneable-content").data("retry",!0)},update:function(e,n){a.helper.name_nested_replace(r.children(".wdpop_core-cloneable-item"),g),r.wdpop_core_customizer_refresh(),f&&w(r)}}),i.children(".wdpop_core-cloneable-add").on("click",function(e){e.preventDefault();var n=r.children(".wdpop_core-cloneable-item").length;if(d.hide(),h&&n+1>h)l.show();else{var t=o.wdpop_core_clone(!0);t.removeClass("wdpop_core-cloneable-hidden"),t.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(g+"[0]",g+"["+n+"]")}),r.append(t),r.accordion("refresh"),r.accordion({active:n}),r.wdpop_core_customizer_refresh(),r.wdpop_core_customizer_listen({closest:!0}),f&&w(r)}});var u=function(n){n.preventDefault();var t=r.children(".wdpop_core-cloneable-item").length;if(d.hide(),h&&t+1>h)l.show();else{var i=e(this),o=i.parent().parent(),s=o.children(".wdpop_core-cloneable-helper").wdpop_core_clone(!0),c=o.children(".wdpop_core-cloneable-title").wdpop_core_clone(),p=o.children(".wdpop_core-cloneable-content").wdpop_core_clone(),u=e('<div class="wdpop_core-cloneable-item" />');u.append(s),u.append(c),u.append(p),r.children().eq(o.index()).after(u),a.helper.name_nested_replace(r.children(".wdpop_core-cloneable-item"),g),r.accordion("refresh"),r.wdpop_core_customizer_refresh(),r.wdpop_core_customizer_listen({closest:!0}),f&&w(r)}};r.children(".wdpop_core-cloneable-item").children(".wdpop_core-cloneable-helper").on("click",".wdpop_core-cloneable-clone",u),i.children(".wdpop_core-cloneable-hidden").children(".wdpop_core-cloneable-helper").on("click",".wdpop_core-cloneable-clone",u);var v=function(n){n.preventDefault();var t=r.children(".wdpop_core-cloneable-item").length;l.hide(),d.hide(),p&&t-1<p?d.show():(e(this).closest(".wdpop_core-cloneable-item").remove(),a.helper.name_nested_replace(r.children(".wdpop_core-cloneable-item"),g),r.wdpop_core_customizer_refresh(),f&&w(r))};r.children(".wdpop_core-cloneable-item").children(".wdpop_core-cloneable-helper").on("click",".wdpop_core-cloneable-remove",v),i.children(".wdpop_core-cloneable-hidden").children(".wdpop_core-cloneable-helper").on("click",".wdpop_core-cloneable-remove",v)})},e.fn.wdpop_core_field_icon=function(){return this.each(function(){var t=e(this);t.on("click",".wdpop_core-icon-add",function(i){i.preventDefault();var r=e(this),o=e("#wdpop_core-modal-icon");o.removeClass("hidden"),a.vars.$icon_target=t,a.vars.icon_modal_loaded||(o.find(".wdpop_core-modal-loading").show(),n.wp.ajax.post("wdpop_core-get-icons",{nonce:r.data("nonce")}).done(function(n){o.find(".wdpop_core-modal-loading").hide(),a.vars.icon_modal_loaded=!0;var t=o.find(".wdpop_core-modal-load").html(n.content);t.on("click","i",function(n){n.preventDefault();var t=e(this).attr("title");a.vars.$icon_target.find(".wdpop_core-icon-preview i").removeAttr("class").addClass(t),a.vars.$icon_target.find(".wdpop_core-icon-preview").removeClass("hidden"),a.vars.$icon_target.find(".wdpop_core-icon-remove").removeClass("hidden"),a.vars.$icon_target.find("input").val(t).trigger("change"),o.addClass("hidden")}),o.on("change keyup",".wdpop_core-icon-search",function(){var n=e(this).val(),i=t.find("i");i.each(function(){var t=e(this);t.attr("title").search(new RegExp(n,"i"))<0?t.hide():t.show()})}),o.on("click",".wdpop_core-modal-close, .wdpop_core-modal-overlay",function(){o.addClass("hidden")})}).fail(function(e){o.find(".wdpop_core-modal-loading").hide(),o.find(".wdpop_core-modal-load").html(e.error),o.on("click",function(){o.addClass("hidden")})}))}),t.on("click",".wdpop_core-icon-remove",function(n){n.preventDefault(),t.find(".wdpop_core-icon-preview").addClass("hidden"),t.find("input").val("").trigger("change"),e(this).addClass("hidden")})})},e.fn.wdpop_core_field_map=function(){return this.each(function(){if("undefined"!=typeof L){var n=e(this),t=n.find(".wdpop_core--map-osm"),i=n.find(".wdpop_core--map-search input"),a=n.find(".wdpop_core--latitude"),r=n.find(".wdpop_core--longitude"),o=n.find(".wdpop_core--zoom"),l=t.data("map"),d=L.map(t.get(0),l);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(d);var s=L.marker(l.center,{draggable:!0}).addTo(d),c=function(e){a.val(e.lat),r.val(e.lng),o.val(d.getZoom())};d.on("click",function(e){s.setLatLng(e.latlng),c(e.latlng)}),d.on("zoom",function(){c(s.getLatLng())}),s.on("drag",function(){c(s.getLatLng())}),i.length||(i=e('[data-depend-id="'+n.find(".wdpop_core--address-field").data("address-field")+'"]'));var g={};i.autocomplete({source:function(n,t){var i=n.term;i in g?t(g[i]):e.get("https://nominatim.openstreetmap.org/search",{format:"json",q:i},function(e){var n;n=e.length?e.map(function(e){return{value:e.display_name,label:e.display_name,lat:e.lat,lon:e.lon}},"json"):[{value:"no-data",label:"No Results."}],g[i]=n,t(n)})},select:function(e,n){if("no-data"===n.item.value)return!1;var t=L.latLng(n.item.lat,n.item.lon);d.panTo(t),s.setLatLng(t),c(t)},create:function(n,t){e(this).autocomplete("widget").addClass("wdpop_core-map-ui-autocomplate")}});var f=function(){var e=L.latLng(a.val(),r.val());d.panTo(e),s.setLatLng(e)};a.on("change",f),r.on("change",f)}})},e.fn.wdpop_core_field_link=function(){return this.each(function(){var t=e(this),i=t.find(".wdpop_core--link"),r=t.find(".wdpop_core--add"),o=t.find(".wdpop_core--edit"),l=t.find(".wdpop_core--remove"),d=t.find(".wdpop_core--result"),s=a.helper.uid("wdpop_core-wplink-textarea-");r.on("click",function(e){e.preventDefault(),n.wpLink.open(s)}),o.on("click",function(n){n.preventDefault(),r.trigger("click"),e("#wp-link-url").val(t.find(".wdpop_core--url").val()),e("#wp-link-text").val(t.find(".wdpop_core--text").val()),e("#wp-link-target").prop("checked","_blank"===t.find(".wdpop_core--target").val())}),l.on("click",function(e){e.preventDefault(),t.find(".wdpop_core--url").val("").trigger("change"),t.find(".wdpop_core--text").val(""),t.find(".wdpop_core--target").val(""),r.removeClass("hidden"),o.addClass("hidden"),l.addClass("hidden"),d.parent().addClass("hidden")}),i.attr("id",s).on("change",function(){var i=n.wpLink.getAttrs(),a=i.href,s=e("#wp-link-text").val(),c=i.target?i.target:"";t.find(".wdpop_core--url").val(a).trigger("change"),t.find(".wdpop_core--text").val(s),t.find(".wdpop_core--target").val(c),d.html('{url:"'+a+'", text:"'+s+'", target:"'+c+'"}'),r.addClass("hidden"),o.removeClass("hidden"),l.removeClass("hidden"),d.parent().removeClass("hidden")})})},e.fn.wdpop_core_field_media=function(){return this.each(function(){var t,i=e(this),a=i.find(".wdpop_core--button"),r=i.find(".wdpop_core--remove"),o=a.data("library")&&a.data("library").split(",")||"",l=!!i.hasClass("wdpop_core-assign-field-background")&&i.closest(".wdpop_core-field-background").find(".wdpop_core--auto-attributes");a.on("click",function(e){e.preventDefault(),void 0!==n.wp&&n.wp.media&&n.wp.media.gallery&&(t?t.open():(t=n.wp.media({library:{type:o}}),t.on("select",function(){var e,n=t.state().get("selection").first().attributes,d=a.data("preview-size")||"thumbnail";o.length&&-1===o.indexOf(n.subtype)&&-1===o.indexOf(n.type)||(i.find(".wdpop_core--id").val(n.id),i.find(".wdpop_core--width").val(n.width),i.find(".wdpop_core--height").val(n.height),i.find(".wdpop_core--alt").val(n.alt),i.find(".wdpop_core--title").val(n.title),i.find(".wdpop_core--description").val(n.description),e=void 0!==n.sizes&&void 0!==n.sizes.thumbnail&&"thumbnail"===d?n.sizes.thumbnail.url:void 0!==n.sizes&&void 0!==n.sizes.full?n.sizes.full.url:"image"===n.type?n.url:n.icon,l&&l.removeClass("wdpop_core--attributes-hidden"),r.removeClass("hidden"),i.find(".wdpop_core--preview").removeClass("hidden"),i.find(".wdpop_core--src").attr("src",e),i.find(".wdpop_core--thumbnail").val(e),i.find(".wdpop_core--url").val(n.url).trigger("change"))}),t.open()))}),r.on("click",function(e){e.preventDefault(),l&&l.addClass("wdpop_core--attributes-hidden"),r.addClass("hidden"),i.find("input").val(""),i.find(".wdpop_core--preview").addClass("hidden"),i.find(".wdpop_core--url").trigger("change")})})},e.fn.wdpop_core_field_repeater=function(){return this.each(function(){var n=e(this),t=n.children(".wdpop_core-fieldset"),i=t.length?t:n,r=i.children(".wdpop_core-repeater-wrapper"),o=i.children(".wdpop_core-repeater-hidden"),l=i.children(".wdpop_core-repeater-max"),d=i.children(".wdpop_core-repeater-min"),s=r.data("field-id"),c=parseInt(r.data("max")),g=parseInt(r.data("min"));r.children(".wdpop_core-repeater-item").children(".wdpop_core-repeater-content").wdpop_core_reload_script(),r.sortable({axis:"y",handle:".wdpop_core-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,n){a.helper.name_nested_replace(r.children(".wdpop_core-repeater-item"),s),r.wdpop_core_customizer_refresh(),n.item.wdpop_core_reload_script_retry()}}),i.children(".wdpop_core-repeater-add").on("click",function(e){e.preventDefault();var n=r.children(".wdpop_core-repeater-item").length;if(d.hide(),c&&n+1>c)l.show();else{var t=o.wdpop_core_clone(!0);t.removeClass("wdpop_core-repeater-hidden"),t.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(s+"[0]",s+"["+n+"]")}),r.append(t),t.children(".wdpop_core-repeater-content").wdpop_core_reload_script(),r.wdpop_core_customizer_refresh(),r.wdpop_core_customizer_listen({closest:!0})}});var f=function(n){n.preventDefault();var t=r.children(".wdpop_core-repeater-item").length;if(d.hide(),c&&t+1>c)l.show();else{var i=e(this),o=i.parent().parent().parent(),g=o.children(".wdpop_core-repeater-content").wdpop_core_clone(),f=o.children(".wdpop_core-repeater-helper").wdpop_core_clone(!0),h=e('<div class="wdpop_core-repeater-item" />');h.append(g),h.append(f),r.children().eq(o.index()).after(h),h.children(".wdpop_core-repeater-content").wdpop_core_reload_script(),a.helper.name_nested_replace(r.children(".wdpop_core-repeater-item"),s),r.wdpop_core_customizer_refresh(),r.wdpop_core_customizer_listen({closest:!0})}};r.children(".wdpop_core-repeater-item").children(".wdpop_core-repeater-helper").on("click",".wdpop_core-repeater-clone",f),i.children(".wdpop_core-repeater-hidden").children(".wdpop_core-repeater-helper").on("click",".wdpop_core-repeater-clone",f);var h=function(n){n.preventDefault();var t=r.children(".wdpop_core-repeater-item").length;l.hide(),d.hide(),g&&t-1<g?d.show():(e(this).closest(".wdpop_core-repeater-item").remove(),a.helper.name_nested_replace(r.children(".wdpop_core-repeater-item"),s),r.wdpop_core_customizer_refresh())};r.children(".wdpop_core-repeater-item").children(".wdpop_core-repeater-helper").on("click",".wdpop_core-repeater-remove",h),i.children(".wdpop_core-repeater-hidden").children(".wdpop_core-repeater-helper").on("click",".wdpop_core-repeater-remove",h)})},e.fn.wdpop_core_field_slider=function(){return this.each(function(){var n=e(this),t=n.find("input"),i=n.find(".wdpop_core-slider-ui"),a=t.data(),r=t.val()||0;i.hasClass("ui-slider")&&i.empty(),i.slider({range:"min",value:r,min:a.min||0,max:a.max||100,step:a.step||1,slide:function(e,n){t.val(n.value).trigger("change")}}),t.on("keyup",function(){i.slider("value",t.val())})})},e.fn.wdpop_core_field_sortable=function(){return this.each(function(){var n=e(this).find(".wdpop_core-sortable");n.sortable({axis:"y",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,t){n.wdpop_core_customizer_refresh()}}),n.find(".wdpop_core-sortable-content").wdpop_core_reload_script()})},e.fn.wdpop_core_field_sorter=function(){return this.each(function(){var n=e(this),t=n.find(".wdpop_core-enabled"),i=n.find(".wdpop_core-disabled"),a=!!i.length&&i;t.sortable({connectWith:a,placeholder:"ui-sortable-placeholder",update:function(e,t){var i=t.item.find("input");t.item.parent().hasClass("wdpop_core-enabled")?i.attr("name",i.attr("name").replace("disabled","enabled")):i.attr("name",i.attr("name").replace("enabled","disabled")),n.wdpop_core_customizer_refresh()}}),a&&a.sortable({connectWith:t,placeholder:"ui-sortable-placeholder",update:function(e,t){n.wdpop_core_customizer_refresh()}})})},e.fn.wdpop_core_field_spinner=function(){return this.each(function(){var n=e(this),t=n.find("input"),i=n.find(".ui-button"),a=t.data();i.length&&i.remove(),t.spinner({min:a.min||0,max:a.max||100,step:a.step||1,create:function(e,n){a.unit&&t.after('<span class="ui-button wdpop_core--unit">'+a.unit+"</span>")},spin:function(e,n){t.val(n.value).trigger("change")}})})},e.fn.wdpop_core_field_switcher=function(){return this.each(function(){var n=e(this).find(".wdpop_core--switcher");n.on("click",function(){var e=0,t=n.find("input");n.hasClass("wdpop_core--active")?n.removeClass("wdpop_core--active"):(e=1,n.addClass("wdpop_core--active")),t.val(e).trigger("change")})})},e.fn.wdpop_core_field_tabbed=function(){return this.each(function(){var n=e(this),t=n.find(".wdpop_core-tabbed-nav a"),i=n.find(".wdpop_core-tabbed-content");i.eq(0).wdpop_core_reload_script(),t.on("click",function(n){n.preventDefault();var t=e(this),a=t.index(),r=i.eq(a);t.addClass("wdpop_core-tabbed-active").siblings().removeClass("wdpop_core-tabbed-active"),r.wdpop_core_reload_script(),r.removeClass("hidden").siblings().addClass("hidden")})})},e.fn.wdpop_core_field_typography=function(){return this.each(function(){var n=this,t=e(this),i=[],r=wdpop_core_typography_json.webfonts,o=wdpop_core_typography_json.googlestyles,l=wdpop_core_typography_json.defaultstyles;n.sanitize_subset=function(e){return e=e.replace("-ext"," Extended"),e=e.charAt(0).toUpperCase()+e.slice(1),e},n.sanitize_style=function(e){return o[e]?o[e]:e},n.load_google_font=function(e,n,t){e&&"object"==typeof WebFont&&(n=n?n.replace("normal",""):"",t=t?t.replace("normal",""):"",(n||t)&&(e=e+":"+n+t),-1===i.indexOf(e)&&WebFont.load({google:{families:[e]}}),i.push(e))},n.append_select_options=function(t,i,a,r,o){t.find("option").not(":first").remove();var l="";e.each(i,function(e,t){var i,d=t;i=o?a&&-1!==a.indexOf(t)?" selected":"":a&&a===t?" selected":"","subset"===r?d=n.sanitize_subset(t):"style"===r&&(d=n.sanitize_style(t)),l+='<option value="'+t+'"'+i+">"+d+"</option>"}),t.append(l).trigger("wdpop_core.change").trigger("chosen:updated")},n.init=function(){var i=[],o=t.find(".wdpop_core--typography"),d=t.find(".wdpop_core--type"),s=t.find(".wdpop_core--block-font-style"),c=o.data("unit"),g=o.data("line-height-unit"),f=o.data("exclude")?o.data("exclude").split(","):[];if(t.find(".wdpop_core--chosen").length){var h=t.find("select");h.each(function(){var n=e(this),t=n.parent().find(".chosen-container");t.length&&t.remove(),n.chosen({allow_single_deselect:!0,disable_search_threshold:15,width:"100%"})})}var p=t.find(".wdpop_core--font-family"),w=p.val();p.find("option").not(":first-child").remove();var u="";e.each(r,function(n,t){f&&-1!==f.indexOf(n)||(u+='<optgroup label="'+t.label+'">',e.each(t.fonts,function(e,t){t="object"==typeof t?e:t;var i=t===w?" selected":"";u+='<option value="'+t+'" data-type="'+n+'"'+i+">"+t+"</option>"}),u+="</optgroup>")}),p.append(u).trigger("chosen:updated");var v=t.find(".wdpop_core--block-font-style");if(v.length){var m=t.find(".wdpop_core--font-style-select"),_=m.val()?m.val().replace(/normal/g,""):"";m.on("change wdpop_core.change",function(e){var n=m.val();!n&&i&&-1===i.indexOf("normal")&&(n=i[0]);var a=n&&"italic"!==n&&"normal"===n?"normal":"",r=n&&"italic"!==n&&"normal"!==n?n.replace("italic",""):a,o=n&&"italic"===n.substr(-6)?"italic":"";t.find(".wdpop_core--font-weight").val(r),t.find(".wdpop_core--font-style").val(o)});var b=t.find(".wdpop_core--block-extra-styles");if(b.length)var y=t.find(".wdpop_core--extra-styles"),k=y.val()}var C=t.find(".wdpop_core--block-subset");if(C.length)var x=t.find(".wdpop_core--subset"),z=x.val(),D=x.data("multiple")||!1;var O=t.find(".wdpop_core--block-backup-font-family");p.on("change wdpop_core.change",function(e){C.length&&C.addClass("hidden"),b.length&&b.addClass("hidden"),O.length&&O.addClass("hidden");var t=p.find(":selected"),a=t.val(),o=t.data("type");if(o&&a){if("google"!==o&&"custom"!==o||!O.length||O.removeClass("hidden"),v.length){var c=l;"google"===o&&r[o].fonts[a][0]?c=r[o].fonts[a][0]:"custom"===o&&r[o].fonts[a]&&(c=r[o].fonts[a]),i=c;var g=-1!==c.indexOf("normal")?"normal":c[0],f=_&&-1!==c.indexOf(_)?_:g;n.append_select_options(m,c,f,"style"),_=!1,v.removeClass("hidden"),"google"===o&&b.length&&c.length>1&&(n.append_select_options(y,c,k,"style",!0),k=!1,b.removeClass("hidden"))}if("google"===o&&C.length&&r[o].fonts[a][1]){var h=r[o].fonts[a][1],w=h.length<2&&"latin"!==h[0]?h[0]:"",u=z&&-1!==h.indexOf(z)?z:w;u=D&&z?z:u,n.append_select_options(x,h,u,"subset",D),z=!1,C.removeClass("hidden")}}else s.find(":input").val(""),C.length&&(x.find("option").not(":first-child").remove(),x.trigger("chosen:updated")),v.length&&(m.find("option").not(":first-child").remove(),m.trigger("chosen:updated"));d.val(o)}).trigger("wdpop_core.change");var j=t.find(".wdpop_core--block-preview");if(j.length){var L=t.find(".wdpop_core--preview");t.on("change",a.helper.debounce(function(e){j.removeClass("hidden");var i=p.val(),a=t.find(".wdpop_core--font-weight").val(),r=t.find(".wdpop_core--font-style").val(),o=t.find(".wdpop_core--font-size").val(),l=t.find(".wdpop_core--font-variant").val(),d=t.find(".wdpop_core--line-height").val(),s=t.find(".wdpop_core--text-align").val(),f=t.find(".wdpop_core--text-transform").val(),h=t.find(".wdpop_core--text-decoration").val(),w=t.find(".wdpop_core--color").val(),u=t.find(".wdpop_core--word-spacing").val(),v=t.find(".wdpop_core--letter-spacing").val(),m=t.find(".wdpop_core--custom-style").val(),_=t.find(".wdpop_core--type").val();"google"===_&&n.load_google_font(i,a,r);var b={};i&&(b.fontFamily=i),a&&(b.fontWeight=a),r&&(b.fontStyle=r),l&&(b.fontVariant=l),o&&(b.fontSize=o+c),d&&(b.lineHeight=d+g),v&&(b.letterSpacing=v+c),u&&(b.wordSpacing=u+c),s&&(b.textAlign=s),f&&(b.textTransform=f),h&&(b.textDecoration=h),w&&(b.color=w),L.removeAttr("style"),m&&L.attr("style",m),L.css(b)},100)),j.on("click",function(){L.toggleClass("wdpop_core--black-background");var e=j.find(".wdpop_core--toggle");e.hasClass("fa-toggle-off")?e.removeClass("fa-toggle-off").addClass("fa-toggle-on"):e.removeClass("fa-toggle-on").addClass("fa-toggle-off")}),j.hasClass("hidden")||t.trigger("change")}},n.init()})},e.fn.wdpop_core_field_upload=function(){return this.each(function(){var t,i=e(this),a=i.find("input"),r=i.find(".wdpop_core--button"),o=i.find(".wdpop_core--remove"),l=i.find(".wdpop_core--preview"),d=i.find(".wdpop_core--src"),s=r.data("library")&&r.data("library").split(",")||"";r.on("click",function(e){e.preventDefault(),void 0!==n.wp&&n.wp.media&&n.wp.media.gallery&&(t?t.open():(t=n.wp.media({library:{type:s}}),t.on("select",function(){var e=t.state().get("selection").first().attributes;s.length&&-1===s.indexOf(e.subtype)&&-1===s.indexOf(e.type)||a.val(e.url).trigger("change")}),t.open()))}),o.on("click",function(e){e.preventDefault(),a.val("").trigger("change")}),a.on("change",function(n){var t=a.val();t?o.removeClass("hidden"):o.addClass("hidden"),l.length&&(-1!==e.inArray(t.split(".").pop().toLowerCase(),["jpg","jpeg","gif","png","svg","webp"])?(l.removeClass("hidden"),d.attr("src",t)):l.addClass("hidden"))})})},e.fn.wdpop_core_field_wp_editor=function(){return this.each(function(){if(void 0!==n.wp.editor&&void 0!==n.tinyMCEPreInit&&void 0!==n.tinyMCEPreInit.mceInit.wdpop_core_wp_editor){var t=e(this),i=t.find(".wdpop_core-wp-editor"),r=t.find("textarea"),o=t.find(".wp-editor-wrap").length||t.find(".mce-container").length;o&&(i.empty(),i.append(r),r.css("display",""));var l=a.helper.uid("wdpop_core-editor-");r.attr("id",l);var d={tinymce:n.tinyMCEPreInit.mceInit.wdpop_core_wp_editor,quicktags:n.tinyMCEPreInit.qtInit.wdpop_core_wp_editor},s=i.data("editor-settings"),c=wp.oldEditor?wp.oldEditor:wp.editor;c&&c.hasOwnProperty("autop")&&(wp.editor.autop=c.autop,wp.editor.removep=c.removep,wp.editor.initialize=c.initialize);var g=function(e){e.on("change keyup",function(){var n=s.wpautop?e.getContent():wp.editor.removep(e.getContent());r.val(n).trigger("change")})};d.tinymce=e.extend({},d.tinymce,{selector:"#"+l,setup:g}),!1===s.tinymce&&(d.tinymce=!1,i.addClass("wdpop_core-no-tinymce")),!1===s.quicktags&&(d.quicktags=!1,i.addClass("wdpop_core-no-quicktags"));var f=setInterval(function(){t.is(":visible")&&(n.wp.editor.initialize(l,d),clearInterval(f))});if(s.media_buttons&&n.wdpop_core_media_buttons){var h=i.find(".wp-media-buttons");if(h.length)h.find(".wdpop_core-shortcode-button").data("editor-id",l);else{var p=e(n.wdpop_core_media_buttons);p.find(".wdpop_core-shortcode-button").data("editor-id",l),i.prepend(p)}}}})},e.fn.wdpop_core_confirm=function(){return this.each(function(){e(this).on("click",function(t){var i=e(this).data("confirm")||n.wdpop_core_vars.i18n.confirm,r=confirm(i);if(!r)return t.preventDefault(),!1;a.vars.is_confirm=!0,a.vars.form_modified=!1})})},e.fn.serializeObject=function(){var n={};return e.each(this.serializeArray(),function(t,a){var r=a.name,o=a.value;n[r]=n[r]===i?o:e.isArray(n[r])?n[r].concat(o):[n[r],o]}),n},e.fn.wdpop_core_save=function(){return this.each(function(){var t,i=e(this),r=e(".wdpop_core-save"),o=e(".wdpop_core-options"),l=!1;i.on("click",function(d){if(!l){var s=i.data("save"),c=i.val();r.attr("value",s),i.hasClass("wdpop_core-save-ajax")?(d.preventDefault(),o.addClass("wdpop_core-saving"),r.prop("disabled",!0),n.wp.ajax.post("wdpop_core_"+o.data("unique")+"_ajax_save",{data:e("#wdpop_core-form").serializeJSONWDPOP_CORE()}).done(function(n){if(e(".wdpop_core-error").remove(),Object.keys(n.errors).length){var i='<i class="wdpop_core-label-error wdpop_core-error">!</i>';e.each(n.errors,function(n,t){
var a=e('[data-depend-id="'+n+'"]'),r=e('a[href="#tab='+a.closest(".wdpop_core-section").data("section-id")+'"]'),o=r.closest(".wdpop_core-tab-item");a.closest(".wdpop_core-fieldset").append('<p class="wdpop_core-error wdpop_core-error-text">'+t+"</p>"),r.find(".wdpop_core-error").length||r.append(i),o.find(".wdpop_core-arrow .wdpop_core-error").length||o.find(".wdpop_core-arrow").append(i)})}o.removeClass("wdpop_core-saving"),r.prop("disabled",!1).attr("value",c),l=!1,a.vars.form_modified=!1,a.vars.$form_warning.hide(),clearTimeout(t);var d=e(".wdpop_core-form-success");d.empty().append(n.notice).fadeIn("fast",function(){t=setTimeout(function(){d.fadeOut("fast")},1e3)})}).fail(function(e){alert(e.error)})):a.vars.form_modified=!1}l=!0})})},e.fn.wdpop_core_options=function(){return this.each(function(){var r=e(this),o=r.find(".wdpop_core-content"),l=r.find(".wdpop_core-form-success"),d=r.find(".wdpop_core-form-warning"),s=r.find(".wdpop_core-header .wdpop_core-save");a.vars.$form_warning=d,d.length&&(n.onbeforeunload=function(){return!!a.vars.form_modified||i},o.on("change keypress",":input",function(){a.vars.form_modified||(l.hide(),d.fadeIn("fast"),a.vars.form_modified=!0)})),l.hasClass("wdpop_core-form-show")&&setTimeout(function(){l.fadeOut("fast")},1e3),e(t).keydown(function(e){if((e.ctrlKey||e.metaKey)&&83===e.which)return s.trigger("click"),e.preventDefault(),!1})})},e.fn.wdpop_core_taxonomy=function(){return this.each(function(){var n=e(this),t=n.parents("form");if("addtag"===t.attr("id")){var i=t.find("#submit"),a=n.children(".wdpop_core-field").wdpop_core_clone();i.on("click",function(){t.find(".form-required").hasClass("form-invalid")||(n.data("inited",!1),n.empty(),n.html(a),a=a.wdpop_core_clone(),n.wdpop_core_reload_script())})}})},e.fn.wdpop_core_shortcode=function(){var r=this;return r.shortcode_parse=function(n,t){var i="";return e.each(n,function(n,a){t=t||n,i+="["+t,e.each(a,function(e,n){"content"===e?(i+="]",i+=n,i+="[/"+t):i+=r.shortcode_tags(e,n)}),i+="]"}),i},r.shortcode_tags=function(n,t){var i="";return""!==t&&("object"!=typeof t||e.isArray(t)?i+=" "+n+'="'+t.toString()+'"':e.each(t,function(e,n){switch(e){case"background-image":n=n.url?n.url:""}""!==n&&(i+=" "+e+'="'+n.toString()+'"')})),i},r.insertAtChars=function(e,n){var t=void 0!==e[0].name?e[0]:e;return t.value.length&&void 0!==t.selectionStart?(t.focus(),t.value.substring(0,t.selectionStart)+n+t.value.substring(t.selectionEnd,t.value.length)):(t.focus(),n)},r.send_to_editor=function(n,t){var i;if("undefined"!=typeof tinymce&&(i=tinymce.get(t)),i&&!i.isHidden())i.execCommand("mceInsertContent",!1,n);else{var a=e("#"+t);a.val(r.insertAtChars(a,n)).trigger("change")}},this.each(function(){var o,l,d,s,c,g,f,h,p,w=e(this),u=w.find(".wdpop_core-modal-load"),v=(w.find(".wdpop_core-modal-content"),w.find(".wdpop_core-modal-insert")),m=w.find(".wdpop_core-modal-loading"),_=w.find("select"),b=w.data("modal-id"),y=w.data("nonce");e(t).on("click",'.wdpop_core-shortcode-button[data-modal-id="'+b+'"]',function(n){n.preventDefault(),p=e(this),o=p.data("editor-id")||!1,l=p.data("target-id")||!1,d=p.data("gutenberg-id")||!1,w.removeClass("hidden"),w.hasClass("wdpop_core-shortcode-single")&&c===i&&_.trigger("change")}),_.on("change",function(){var t=e(this),i=t.find(":selected");s=t.val(),c=i.data("shortcode"),g=i.data("view")||"normal",f=i.data("group")||c,u.empty(),s?(m.show(),n.wp.ajax.post("wdpop_core-get-shortcode-"+b,{shortcode_key:s,nonce:y}).done(function(n){m.hide();var t=e(n.content).appendTo(u);v.parent().removeClass("hidden"),h=t.find(".wdpop_core--repeat-shortcode").wdpop_core_clone(),t.wdpop_core_reload_script(),t.find(".wdpop_core-fields").wdpop_core_reload_script()})):v.parent().addClass("hidden")}),v.on("click",function(t){if(t.preventDefault(),!v.prop("disabled")&&!v.attr("disabled")){var i="",a=w.find(".wdpop_core-field:not(.wdpop_core-depend-on)").find(":input:not(.ignore)").serializeObjectWDPOP_CORE();switch(g){case"contents":var s=c?a[c]:a;e.each(s,function(e,n){var t=c||e;i+="["+t+"]"+n+"[/"+t+"]"});break;case"group":i+="["+c,e.each(a[c],function(e,n){i+=r.shortcode_tags(e,n)}),i+="]",i+=r.shortcode_parse(a[f],f),i+="[/"+c+"]";break;case"repeater":i+=r.shortcode_parse(a[f],f);break;default:i+=r.shortcode_parse(a)}if(i=""===i?"["+c+"]":i,d){var h=n.wdpop_core_gutenberg_props.attributes.hasOwnProperty("shortcode")?n.wdpop_core_gutenberg_props.attributes.shortcode:"";n.wdpop_core_gutenberg_props.setAttributes({shortcode:h+i})}else if(o)r.send_to_editor(i,o);else{var u=l?e(l):p.parent().find("textarea");u.val(r.insertAtChars(u,i)).trigger("change")}w.addClass("hidden")}}),w.on("click",".wdpop_core--repeat-button",function(e){e.preventDefault();var n=w.find(".wdpop_core--repeatable"),t=h.wdpop_core_clone(),i=t.find(".wdpop_core-repeat-remove");t.appendTo(n);t.find(".wdpop_core-fields").wdpop_core_reload_script(),a.helper.name_nested_replace(w.find(".wdpop_core--repeat-shortcode"),f),i.on("click",function(){t.remove(),a.helper.name_nested_replace(w.find(".wdpop_core--repeat-shortcode"),f)})}),w.on("click",".wdpop_core-modal-close, .wdpop_core-modal-overlay",function(){w.addClass("hidden")})})},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var n=6-e.length-1;n>=0;n--)e="0"+e;return"#"+e}),a.funcs.parse_color=function(e){var n=e.replace(/\s+/g,""),t=-1!==n.indexOf("rgba")?parseFloat(100*n.replace(/^.*,(.+)\)/,"$1")):100,i=t<100;return{value:n,transparent:t,rgba:i}},e.fn.wdpop_core_color=function(){return this.each(function(){var t,i=e(this),r=a.funcs.parse_color(i.val()),o=!n.wdpop_core_vars.color_palette.length||n.wdpop_core_vars.color_palette;i.hasClass("wp-color-picker")&&i.closest(".wp-picker-container").after(i).remove(),i.wpColorPicker({palettes:o,change:function(e,n){var a=n.color.toString();t.removeClass("wdpop_core--transparent-active"),t.find(".wdpop_core--transparent-offset").css("background-color",a),i.val(a).trigger("change")},create:function(){t=i.closest(".wp-picker-container");var n=i.data("a8cIris"),o=e('<div class="wdpop_core--transparent-wrap"><div class="wdpop_core--transparent-slider"></div><div class="wdpop_core--transparent-offset"></div><div class="wdpop_core--transparent-text"></div><div class="wdpop_core--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo(t.find(".wp-picker-holder")),l=o.find(".wdpop_core--transparent-slider"),d=o.find(".wdpop_core--transparent-text"),s=o.find(".wdpop_core--transparent-offset"),c=o.find(".wdpop_core--transparent-button");"transparent"===i.val()&&t.addClass("wdpop_core--transparent-active"),c.on("click",function(){"transparent"!==i.val()?(i.val("transparent").trigger("change").removeClass("iris-error"),t.addClass("wdpop_core--transparent-active")):(i.val(n._color.toString()).trigger("change"),t.removeClass("wdpop_core--transparent-active"))}),l.slider({value:r.transparent,step:1,min:0,max:100,slide:function(e,t){var a=parseFloat(t.value/100);n._color._alpha=a,i.wpColorPicker("color",n._color.toString()),d.text(1===a||0===a?"":a)},create:function(){var e=parseFloat(r.transparent/100),o=e<1?e:"";d.text(o),s.css("background-color",r.value),t.on("click",".wp-picker-clear",function(){n._color._alpha=1,d.text(""),l.slider("option","value",100),t.removeClass("wdpop_core--transparent-active"),i.trigger("change")}),t.on("click",".wp-picker-default",function(){var e=a.funcs.parse_color(i.data("default-color")),r=parseFloat(e.transparent/100),o=r<1?r:"";n._color._alpha=r,d.text(o),l.slider("option","value",e.transparent),"transparent"===e.value&&(i.removeClass("iris-error"),t.addClass("wdpop_core--transparent-active"))})}})}})})},e.fn.wdpop_core_chosen=function(){return this.each(function(){var t=e(this),a=t.parent().find(".chosen-container"),r=t.hasClass("wdpop_core-chosen-sortable")||!1,o=t.hasClass("wdpop_core-chosen-ajax")||!1,l=t.attr("multiple")||!1,d=l?"100%":"auto",s=e.extend({allow_single_deselect:!0,disable_search_threshold:10,width:d,no_results_text:n.wdpop_core_vars.i18n.no_results_text},t.data("chosen-settings"));if(a.length&&a.remove(),o){var c=e.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:n.wdpop_core_vars.i18n.typing_text,searching_text:n.wdpop_core_vars.i18n.searching_text,no_results_text:n.wdpop_core_vars.i18n.no_results_text},t.data("chosen-settings"));t.WDPOP_COREAjaxChosen(c)}else t.chosen(s);if(l){var g=t.parent().find(".wdpop_core-hide-select"),f=g.val()||[];t.on("change",function(e,t){t&&t.selected?g.append('<option value="'+t.selected+'" selected="selected">'+t.selected+"</option>"):t&&t.deselected&&g.find('option[value="'+t.deselected+'"]').remove(),n.wp.customize!==i&&0===g.children().length&&g.data("customize-setting-link")&&n.wp.customize.control(g.data("customize-setting-link")).setting.set(""),g.trigger("change")}),t.WDPOP_COREChosenOrder(f,!0)}if(r){var h=t.parent().find(".chosen-container"),p=h.find(".chosen-choices");p.bind("mousedown",function(n){e(n.target).is("span")&&n.stopPropagation()}),p.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(e,n){n.placeholder.width(n.item.innerWidth()),n.placeholder.height(n.item.innerHeight())},update:function(n,i){var a="",r=t.data("chosen"),o=t.parent().find(".wdpop_core-hide-select");p.find(".search-choice-close").each(function(){var n=e(this).data("option-array-index");e.each(r.results_data,function(e,t){t.array_index===n&&(a+='<option value="'+t.value+'" selected>'+t.value+"</option>")})}),o.children().remove(),o.append(a),o.trigger("change")}})}})},e.fn.wdpop_core_checkbox=function(){return this.each(function(){var n=e(this),t=n.find(".wdpop_core--input"),i=n.find(".wdpop_core--checkbox");i.on("click",function(){t.val(Number(i.prop("checked"))).trigger("change")})})},e.fn.wdpop_core_checkbox_all=function(){return this.each(function(){var n=e(this);n.on("click",function(){var t=n.closest(".wdpop_core-field-checkbox").find(":input"),i=!1;t.each(function(){e(this).prop("checked")||(i=!0)}),i?(t.prop("checked","checked"),t.attr("checked","checked")):(t.prop("checked",""),t.removeAttr("checked")),t.first().trigger("change")})})},e.fn.wdpop_core_siblings=function(){return this.each(function(){var n=e(this),t=n.find(".wdpop_core--sibling"),i=n.data("multiple")||!1;t.on("click",function(){var t=e(this);i?t.hasClass("wdpop_core--active")?(t.removeClass("wdpop_core--active"),t.find("input").prop("checked",!1).trigger("change")):(t.addClass("wdpop_core--active"),t.find("input").prop("checked",!0).trigger("change")):(n.find("input").prop("checked",!1),t.find("input").prop("checked",!0).trigger("change"),t.addClass("wdpop_core--active").siblings().removeClass("wdpop_core--active"))})})},e.fn.wdpop_core_help=function(){return this.each(function(){var n,t,r=e(this);r.on({mouseenter:function(){n=e('<div class="wdpop_core-tooltip"></div>').html(r.find(".wdpop_core-help-text").html()).appendTo("body"),t=a.vars.is_rtl?r.offset().left+24:r.offset().left-n.outerWidth(),n.css({top:r.offset().top-(n.outerHeight()/2-14),left:t})},mouseleave:function(){n!==i&&n.remove()}})})},e.fn.wdpop_core_customizer_refresh=function(){return this.each(function(){var a=e(this),r=a.closest(".wdpop_core-customize-complex");if(r.length){var o=r.data("unique-id");if(o===i)return;var l=r.find(":input"),d=r.data("option-id"),s=l.serializeObjectWDPOP_CORE(),c=!e.isEmptyObject(s)&&s[o]&&s[o][d]?s[o][d]:"",g=n.wp.customize.control(o+"["+d+"]");g.setting._value=null,g.setting.set(c)}else a.find(":input").first().trigger("change");e(t).trigger("wdpop_core-customizer-refresh",a)})},e.fn.wdpop_core_customizer_listen=function(t){var a=e.extend({closest:!1},t);return this.each(function(){if(n.wp.customize!==i){var t=a.closest?e(this).closest(".wdpop_core-customize-complex"):e(this),r=t.find(":input"),o=t.data("unique-id"),l=t.data("option-id");o!==i&&r.on("change keyup wdpop_core.change",function(){var i=t.find(":input").serializeObjectWDPOP_CORE(),a=!e.isEmptyObject(i)&&i[o]&&i[o][l]?i[o][l]:"";n.wp.customize.control(o+"["+l+"]").setting.set(a)})}})},e(t).on("expanded",".control-section",function(){var n=e(this);if(n.hasClass("open")&&!n.data("inited")){var t=n.find(".wdpop_core-customize-field"),i=n.find(".wdpop_core-customize-complex");t.length&&(n.wdpop_core_dependency(),t.wdpop_core_reload_script({dependency:!1}),i.wdpop_core_customizer_listen()),n.data("inited",!0)}}),a.vars.$window.on("resize wdpop_core.resize",a.helper.debounce(function(t){var i=navigator.userAgent.indexOf("AppleWebKit/")>-1?a.vars.$window.width():n.innerWidth;i<=782&&!a.vars.onloaded&&(e(".wdpop_core-section").wdpop_core_reload_script(),a.vars.onloaded=!0)},200)).trigger("wdpop_core.resize"),e.fn.wdpop_core_widgets=function(){return this.each(function(){e(t).on("widget-added widget-updated",function(e,n){var t=n.find(".wdpop_core-fields");t.length&&t.wdpop_core_reload_script()}),e(t).on("click",".widget-top",function(n){var t=e(this).parent().find(".wdpop_core-fields");t.length&&t.wdpop_core_reload_script()}),e(".widgets-sortables, .control-section-sidebar").on("sortstop",function(e,n){n.item.find(".wdpop_core-fields").wdpop_core_reload_script_retry()})})},e.fn.wdpop_core_nav_menu=function(){return this.each(function(){var n=e(this);n.on("click","a.item-edit",function(){e(this).closest("li.menu-item").find(".wdpop_core-fields").wdpop_core_reload_script()}),n.on("sortstop",function(e,n){n.item.find(".wdpop_core-fields").wdpop_core_reload_script_retry()})})},e.fn.wdpop_core_reload_script_retry=function(){return this.each(function(){var n=e(this);n.data("inited")&&n.children(".wdpop_core-field-wp_editor").wdpop_core_field_wp_editor()})},e.fn.wdpop_core_reload_script=function(n){var i=e.extend({dependency:!0},n);return this.each(function(){var n=e(this);n.data("inited")||(n.children(".wdpop_core-field-accordion").wdpop_core_field_accordion(),n.children(".wdpop_core-field-backup").wdpop_core_field_backup(),n.children(".wdpop_core-field-background").wdpop_core_field_background(),n.children(".wdpop_core-field-code_editor").wdpop_core_field_code_editor(),n.children(".wdpop_core-field-date").wdpop_core_field_date(),n.children(".wdpop_core-field-datetime").wdpop_core_field_datetime(),n.children(".wdpop_core-field-fieldset").wdpop_core_field_fieldset(),n.children(".wdpop_core-field-gallery").wdpop_core_field_gallery(),n.children(".wdpop_core-field-group").wdpop_core_field_group(),n.children(".wdpop_core-field-icon").wdpop_core_field_icon(),n.children(".wdpop_core-field-link").wdpop_core_field_link(),n.children(".wdpop_core-field-media").wdpop_core_field_media(),n.children(".wdpop_core-field-map").wdpop_core_field_map(),n.children(".wdpop_core-field-repeater").wdpop_core_field_repeater(),n.children(".wdpop_core-field-slider").wdpop_core_field_slider(),n.children(".wdpop_core-field-sortable").wdpop_core_field_sortable(),n.children(".wdpop_core-field-sorter").wdpop_core_field_sorter(),n.children(".wdpop_core-field-spinner").wdpop_core_field_spinner(),n.children(".wdpop_core-field-switcher").wdpop_core_field_switcher(),n.children(".wdpop_core-field-tabbed").wdpop_core_field_tabbed(),n.children(".wdpop_core-field-typography").wdpop_core_field_typography(),n.children(".wdpop_core-field-upload").wdpop_core_field_upload(),n.children(".wdpop_core-field-wp_editor").wdpop_core_field_wp_editor(),n.children(".wdpop_core-field-border").find(".wdpop_core-color").wdpop_core_color(),n.children(".wdpop_core-field-background").find(".wdpop_core-color").wdpop_core_color(),n.children(".wdpop_core-field-color").find(".wdpop_core-color").wdpop_core_color(),n.children(".wdpop_core-field-color_group").find(".wdpop_core-color").wdpop_core_color(),n.children(".wdpop_core-field-link_color").find(".wdpop_core-color").wdpop_core_color(),n.children(".wdpop_core-field-typography").find(".wdpop_core-color").wdpop_core_color(),n.children(".wdpop_core-field-select").find(".wdpop_core-chosen").wdpop_core_chosen(),n.children(".wdpop_core-field-checkbox").find(".wdpop_core-checkbox").wdpop_core_checkbox(),n.children(".wdpop_core-field-checkbox").find(".wdpop_core-checkbox-all").wdpop_core_checkbox_all(),n.children(".wdpop_core-field-button_set").find(".wdpop_core-siblings").wdpop_core_siblings(),n.children(".wdpop_core-field-image_select").find(".wdpop_core-siblings").wdpop_core_siblings(),n.children(".wdpop_core-field-palette").find(".wdpop_core-siblings").wdpop_core_siblings(),n.children(".wdpop_core-field").find(".wdpop_core-help").wdpop_core_help(),i.dependency&&n.wdpop_core_dependency(),n.data("inited",!0),e(t).trigger("wdpop_core-reload-script",n))})},e(t).ready(function(){e(".wdpop_core-save").wdpop_core_save(),e(".wdpop_core-options").wdpop_core_options(),e(".wdpop_core-sticky-header").wdpop_core_sticky(),e(".wdpop_core-nav-options").wdpop_core_nav_options(),e(".wdpop_core-nav-metabox").wdpop_core_nav_metabox(),e(".wdpop_core-taxonomy").wdpop_core_taxonomy(),e(".wdpop_core-page-templates").wdpop_core_page_templates(),e(".wdpop_core-post-formats").wdpop_core_post_formats(),e(".wdpop_core-shortcode").wdpop_core_shortcode(),e(".wdpop_core-search").wdpop_core_search(),e(".wdpop_core-confirm").wdpop_core_confirm(),e(".wdpop_core-expand-all").wdpop_core_expand_all(),e(".wdpop_core-onload").wdpop_core_reload_script(),e("#widgets-editor").wdpop_core_widgets(),e("#widgets-right").wdpop_core_widgets(),e("#menu-to-edit").wdpop_core_nav_menu()})})(jQuery,window,document);